import py2d.Math as m
import random

GAME_TITLE = 'The Migration'
SCREEN_DIMENSIONS = m.Vector(640, 480)
GAMEOVER_DIMENSIONS = m.Vector(640, 400)
WORLDMAP_SCALE = 1.2

START_SECTOR = (112, 164)
#START_SECTOR = (123, 88)
START_SAFEZONE = 300

GOAL_SECTOR = (220, 75)
#GOAL_SECTOR = (129, 88)
GOAL_RADIUS = 5

SECTOR_SIZE = m.Vector(600, 600)
SIMULATION_RADIUS = 1

TARGET_FPS = 40

BACKGROUND_COLOR = (0, 0, 128)

START_FISHES = 1

CAMERA_MIN_DISTANCE = 60
CAMERA_ACCELERATION = 0.003
CAMERA_MAX_VELOCITY = 0.6
CAMERA_VELOCITY_DECAY = 0.6

SWARM_ACCELERATION = 0.004
SWARM_MAX_VELOCITY = 0.6
SWARM_VELOCITY_DECAY = 0.6

SWARM_MIN_DISTANCE = 20
SWARM_MAX_DISTANCE = 300
SWARM_NEIGHBOR_DISTANCE = 100
SWARM_NEIGHBOR_REPEL_DISTANCE = 30
SWARM_NEIGHBOR_REPEL_DISTANCE_SMALL = 20
SWARM_NEIGHBOR_REPEL_DISTANCE_LARGE = 90

SWARM_MANEUVER_ENERGY_MAX = 100
SWARM_MANEUVER_ENERGY_DRAIN = 0.02
SWARM_MANEUVER_ENERGY_REFRESH = 0.001
SWARM_MANEUVER_MIN_FISHES = 10


FISH_AVOID_PREDATOR_DISTANCE = 80

FISH_FOOD_DISTANCE = 50
FISH_EAT_DISTANCE = 10
FISH_EAT_DAMAGE = 0.5

FISH_W_GO_TO_SWARM = 0.2
FISH_W_REPEL = 0.5
FISH_W_FLEE = 0.3

FISH_W_ALIGN = 0.01
FISH_REPEL_STRENGTH = 20

FISH_MAX_VELOCITY = 0.6
FISH_MAX_ANGULAR_VELOCITY = 0.6
FISH_ACCELERATION = 0.0035
FISH_ANGULAR_ACCELERATION = 0.001
FISH_ANGULAR_VELOCITY_DECAY = 0.9
FISH_VELOCITY_DECAY = 0.6

FISH_BABY_THRESHOLD = 20
FISH_BABY_FOOD = 5
FISH_BABY_COST = 10
FISH_STARVATION = 0.00001

FISH_ANIM_DELAY = 0.1

FOOD_NUTRITION_VALUE = 1
FOOD_NUTRITION_VALUE_VAR = 10
FOOD_NUTRITION_VALUE_CORPSE = 7

PREDATOR_SENSES = 150
PREDATOR_REPEL_STRENGTH = 10
PREDATOR_REPEL_DISTANCE = 50
PREDATOR_W_GO_TO_PREY = 0.8
PREDATOR_W_REPEL = 0.4
PREDATOR_ANGULAR_ACCELERATION = 0.003
PREDATOR_ACCELERATION = 0.00025
PREDATOR_HUNT_ACCELERATION = 0.0005

PREDATOR_DEAGGRO_CHANCE = 0.0008
PREDATOR_DEAGGRO_DISTANCE = 100
PREDATOR_EAT_DISTANCE = 20
PREDATOR_EAT_DAMAGE = 2

PREDATOR_RANDOM_WALK_CHANCE = 0.0001
PREDATOR_RANDOM_WALK_RADIUS = 1000


PREDATOR_HUNT_MAX_VELOCITY = 0.6
PREDATOR_MAX_VELOCITY = 0.4
PREDATOR_MAX_ANGULAR_VELOCITY = 0.4
PREDATOR_ANGULAR_VELOCITY_DECAY = 0.9
PREDATOR_VELOCITY_DECAY = 0.8

PREDATOR_ANIM_DELAY = 0.05
PREDATOR_SCALE = 0.5

TRAWL_SPEED = 0.15
TRAWL_PROBABILITY = lambda depth: depth - 0.4
TRAWL_DISTANCE = 700
TRAWL_SIZE_THRESHOLD = 8

SECTOR_PREDATORS = lambda depth: int(random.gammavariate(depth * 10, 1))
SECTOR_FOOD = lambda depth: int(random.gammavariate((1-depth) * 100, 0.1))
